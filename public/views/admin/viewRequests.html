<div>
    <!-- <div class="jumbotron no-space-below dashboard-request">
        <div class="row padding-20-y text-center">
            <div class="col-sm-12 text-center">
                <h3>Merchant Request Status</h3>
                <h5 class="light">What type of requests would you like to see?</h5>
            </div>
        </div>
        <div class="row no-space-below" role="tablist">
            <div class="home-nav-inv" ng-init="getRequests('pending', 0)">
                <a data-toggle="tab" href="#merch" role="tab" aria-controls="merch">
                <div ng-class="{'col-sm-6 text-center clickable': true, 'home-active-inv': tab === 'merch'}" ng-click="getRequests('pending', 0)">
                    <h3>New Merchant Requests <i class="fas fa-users"></i></h3>
                </div>
                </a>
                <a data-toggle="tab" href="#rewards" role="tab" aria-controls="rewards">
                <div ng-class="{'col-sm-6 text-center clickable': true, 'home-active-inv': tab === 'rewards'}" ng-click="getRewards()">
                    <h3>New Reward Requests <i class="fas fa-ticket-alt"></i></h3>
                </div>
                </a>
            </div>
        </div>
    </div> -->
        <!-- Request Counter -->
        <div class="w-10/12 pt-20 mx-auto">
            <div class="flex pb-16 justify-between">
                <div class="title">
                    <h2 class="text-5xl">Dashboard</h2>
                </div>
                <div class="actions"></div>
            </div>
            <div class="tabs flex flex-col sm:flex-row" role="tablist" ng-init="getRequests('pending', 1)">
                <a 
                    role="tab"
                    data-toggle="tab"
                    aria-controls="merch"
                    href="#merch"
                    class="tab text-gray-600 py-4 mr-8 font-medium relative"
                    ng-click="getRequests('pending', 1); tab = 'merch'"
                    ng-class="{ 'active': tab === 'merch' }"
                >
                    New Merchant Requests
                </a>
                <a 
                    role="tab"
                    data-toggle="tab"
                    aria-controls="rewards"
                    href="#rewards"
                    class="tab text-gray-600 py-4 mr-8 font-medium relative"
                    ng-click="getRewards(); tab = 'rewards'"
                    ng-class="{ 'active': tab === 'rewards' }"
                >
                    New Reward Requests
                </a>
                <a 
                    role="tab"
                    data-toggle="tab"
                    aria-controls="notifications"
                    href="#notifications"
                    class="tab text-gray-600 py-4 mr-8 font-medium relative"
                    ng-click="tab = 'notifications'"
                    ng-class="{ 'active': tab === 'notifications' }"
                >
                    Send General Notifications
                </a>
                <a 
                    role="tab"
                    data-toggle="tab"
                    aria-controls="#verifications"
                    class="tab text-gray-600 py-4 mr-8 font-medium relative"
                    href="#verifications"
                    ng-click="tab = 'verifications'"
                    ng-class="{ 'active': tab === 'verifications' }"
                >   
                    Verify Coupin
                </a>
            </div>
        </div>
        <!-- End Request Counter -->
    </header>
    <div class="content">
        <div class="w-10/12 pt-16 mx-auto">
            <div class="tab-content">
                <!-- Merchant Request -->
                <div class="row tab-pane fade in active" id="merch" role="tabpanel" aria-labelledby="merch">
                    <div class="tabs flex flex-col sm:flex-row border-b border-gray-200" role="tablist" ng-init="getRequests('pending', 1)">
                        <a
                            ng-class="{'active': group === 'pending'}"
                            class="tab text-gray-600 py-4 mr-8 font-medium relative"
                            ng-click="getRequests('pending', 1)"
                        >
                        <i class="fas fa-hand-paper mr-1"></i>
                            Pending
                        </a>
                        <a
                            ng-class="{'active': group === 'accepted'}"
                            class="tab text-gray-600 py-4 mr-8 font-medium relative"
                            ng-click="getRequests('accepted', 1)"
                        >
                            <i class="fas fa-check mr-1"></i>
                            Accepted
                        </a>
                        <a
                            ng-class="{'active': group === 'rejected'}"
                            class="tab text-gray-600 py-4 mr-8 font-medium relative"
                            ng-click="getRequests('rejected', 1)"
                        >
                            <i class="fas fa-times mr-1"></i>
                            Declined
                        </a>
                        <a
                            ng-class="{'active': group === 'completed'}"
                            class="tab text-gray-600 py-4 mr-8 font-medium relative"
                            ng-click="getRequests('completed', 1)"
                        >
                            <i class="fas fa-handshake mr-1"></i>
                            Completed
                        </a>
                    </div>
                    <div class="flex justify-around mt-6" ng-if="loading">
                        <div class="loader"></div>
                    </div>
                    <div ng-if="!loading" style="height: 700px; overflow-y: scroll;">
                    <!-- <div class="shadow border-b border-gray-200 sm:rounded-lg" ng-if="!loading"> -->
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead>
                                <tr>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">S/N</th>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Name</th>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Details</th>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100"></th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr ng-repeat="(index, request) in totalReq">
                                    <td class="px-10 py-6 whitespace-no-wrap text-2xl">{{((page - 1) * limit) + (index + 1)}}</td>
                                    <td class="px-10 py-6 whitespace-no-wrap text-2xl">{{request.name}}</td>
                                    <td class="px-10 py-6 whitespace-no-wrap text-2xl">{{request.details}}</td>
                                    <td class="clickable px-10 py-6 whitespace-no-wrap text-2xl">
                                        <button
                                            class="m-2" 
                                            data-toggle="modal"
                                            data-target="#selectedMerch"
                                            ng-click="selectMerch(request)"
                                        >
                                            <i class="fas fa-info-circle" data-title="More Info" bs-tooltip></i>
                                        </button>
                                        <button
                                            ng-if="isPending()"
                                            class="m-2" 
                                            data-toggle="modal"
                                            data-target="#reviewStatus"
                                            ng-click="selectMerch(request, 'accepted')"
                                        >
                                            <i class="fas fa-check" data-title="Accept Offer" bs-tooltip></i>
                                        </button>
                                        <button
                                            ng-if="isPending()"
                                            class="m-2" 
                                            data-toggle="modal"
                                            data-target="#reviewStatus"
                                            ng-click="selectMerch(request, 'rejected')"
                                        >
                                            <i class="fas fa-times" data-title="Decline Offer" bs-tooltip></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr ng-if="totalReq.length > 0">
                                    <td class="px-10 py-6 whitespace-no-wrap text-2xl" colspan="7">
                                        <div class="sm:flex-1 sm:flex sm:items-center sm:justify-between">
                                            <div>
                                                <p class="leading-5 text-gray-700">
                                                  Showing
                                                  <span class="">{{ ((page - 1) * limit) + (index + 1) }}</span>
                                                  to
                                                  <span class="">{{ ((page - 1) * limit) + totalReq.length }}</span>
                                                  of
                                                  <span class="">{{ totalMerchantsCount }}</span>
                                                  results
                                                </p>
                                            </div>
                                            <div>
                                                <button
                                                    ng-disabled="page < 1"
                                                    ng-click="getRequests('', page = page - 1)"
                                                    class="relative inline-flex items-center px-4 py-4 rounded-l-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150"
                                                    aria-label="Previous"
                                                >
                                                    <!-- Heroicon name: chevron-left -->
                                                    <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                                      <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                                                    </svg>
                                                </button>
                                                <button
                                                    ng-disabled="page >= maxPage"
                                                    ng-click="getRequests('', page = page + 1)"
                                                    class="-ml-px relative inline-flex items-center px-4 py-4 rounded-r-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150"
                                                    aria-label="Next"
                                                >
                                                    <!-- Heroicon name: chevron-right -->
                                                    <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                                      <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                                                    </svg>
                                                </button>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <h4 ng-show="totalReq.length === 0">There are no current requests</h4>
                    </div>
                </div>
                <!-- Reward Request -->
                <div class="row tab-pane fade" id="rewards" role="tabpanel" aria-labelledby="rewards">
                    <div class="flex justify-around mt-6" ng-if="loading">
                        <div class="loader"></div>
                    </div>
                    <div ng-if="!loading" style="height: 700px; overflow-y: scroll;">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead>
                                <tr>
                                    <th class="sticky top-0 px-2 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">S/N</th>
                                    <th class="sticky top-0 px-2 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Name</th>
                                    <th class="sticky top-0 px-2 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Description</th>
                                    <th class="sticky top-0 px-2 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Starts</th>
                                    <th class="sticky top-0 px-2 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Ends</th>
                                    <th class="sticky top-0 px-2 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Created</th>
                                    <th class="sticky top-0 px-2 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Status</th>
                                    <th class="sticky top-0 px-2 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Is Active</th>
                                    <th class="sticky top-0 px-2 py-6 bg-gray-100"></th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr ng-repeat="(index, reward) in totalRewards">
                                    <td class="px-2 py-6 whitespace-no-wrap text-xl">{{index+1}}</t>
                                    <td class="capitalize px-2 py-6 whitespace-no-wrap text-xl max-w-xs truncate">{{reward.name}}</td>
                                    <td class="capitalize px-2 py-6 whitespace-no-wrap text-xl max-w-xs truncate">{{reward.description}}</td>
                                    <td class="px-2 py-6 whitespace-no-wrap text-xl">{{reward.startDate | date:'longDate'}}</td>
                                    <td class="px-2 py-6 whitespace-no-wrap text-xl">{{reward.endDate | date:'longDate'}}</td>
                                    <td class="px-2 py-6 whitespace-no-wrap text-xl">{{reward.createdDate | date:'longDate'}}</td>
                                    <td class="px-2 capitalize text-xl">{{reward.status === 'isPending' ? 'Pending' : reward.status }}</td>
                                    <td class="px-2 text-xl">{{reward.isActive ? 'Yes' : 'No'}}</td>
                                    <td class="clickable px-10 py-6 whitespace-no-wrap text-xl">
                                        <button
                                            class="m-2"
                                            data-toggle="modal"
                                            data-target="#selectedReward"
                                            ng-click="selectReward(reward)"
                                        >
                                            <i class="fas fa-info-circle" data-title="More Info" bs-tooltip></i>
                                        </button>
                                        <button
                                            class="m-2"
                                            ng-if="isPending()"
                                            data-toggle="modal"
                                            data-target="#reviewRewardStatus"
                                            ng-click="selectReward(reward, 'rejected')"
                                        >
                                            <i class="fas fa-times" data-title="Edit Reward" bs-tooltip></i>
                                        </button>
                                        <button
                                            class="m-2"
                                            ng-if="isPending()"
                                            data-toggle="modal"
                                            data-target="#reviewRewardStatus"
                                            ng-click="selectReward(reward, 'accepted')"
                                        >
                                            <i class="fas fa-check" data-title="Accept Reward" bs-tooltip></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <h4 ng-if="totalRewards.length === 0">There are no current pending rewards</h4>
                    </div>
                </div>
                <!-- Merchant Request -->
                <div class="row tab-pane fade" id="notifications" role="tabpanel" aria-labelledby="notifications">
                    <div class="w-full mx-auto">
                        <div class="flex">
                            <div class="w-1/3">
                                <p class="pb-4 font-semibold">General notifications must have: </p>
                                <ul class="pb-4">
                                    <li class="py-2 pl-4 text-gray-500">Title</li>
                                    <li class="py-2 pl-4 text-gray-500">Message</li>
                                </ul>
                                <p class="mt-4 border border-green-600 rounded text-green-600 py-4 px-6">
                                    <span class="font-semibold">Note:</span> All <span class="font-semibold">CUSTOMERS</span> on mobile will receive this
                                </p>
                            </div>
                            <div class="w-2/5 px-16">
                                <h3 class="text-3xl mb-8">General Notification Details</h3>
                                <form id="addForm">
                                    <div class="form-group">
                                        <label class="block text-lg leading-5 font-medium text-gray-600" for="title">Title</label>
                                        <input type="text" class="block w-full bg-white py-4 px-3 border rounded focus:outline-none" id="title" name="title" aria-describedby="title" placeholder="Enter Title" ng-model="notification.title" required/>
                                        <small id="title" class="form-text text-muted">The main text.</small>
                                    </div>
                                    <div class="form-group">
                                        <label class="block text-lg leading-5 font-medium text-gray-600" for="message">Message</label>
                                        <textarea type="text" class="block w-full bg-white py-4 px-3 border rounded focus:outline-none" id="message" name="message" aria-describedby="message" placeholder="Enter Message" ng-model="notification.message" required></textarea>
                                        <small id="message" class="form-text text-muted">The message that shows when they expand the notification.</small>
                                    </div>
                                    <button class="rounded text-white py-3 px-16 add-admin-button focus:outline-none" ng-if="!sending" ng-disabled="!notification.title || !notification.message" data-toggle="modal"
                                    data-target="#notificationModal"> Send </button>
                                    <div class="loader" ng-if="sending"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Verification Check -->
                <div class="row tab-pane fade" id="verifications" role="tabpanel" aria-labelledby="verifications">
                    <form ng-submit="">
                        <div class="form-group w-full">
                            <input type="text" class="coupin-search w-1/2 py-4 px-3 border rounded focus:outline-none" placeholder="Type in code to be verified.." ng-model="pin" />
                            <button class="add-admin-button py-4 px-6 text-white focus:outline-none disabled:cursor-not-allowed" type="submit" ng-click="verify(pin)" ng-disabled="loading">
                              Verify
                              <i class="fas fa-search" ng-if="!loading"></i>
                              <i class="fas fa-spin fa-spinner" ng-if="loading"></i>
                            </button>
                        </div>
                    </form>
                    <div class="flex justify-around mt-16" ng-if="requestLoading">
                        <div class="loader"></div>
                    </div>
                    <!-- ng-if="empty" -->
                    <div class="row rounded text-center w-1/2 bg-gray-600" ng-if="empty">
                        <div class="card empty">
                          <h2 class="p-16 text-gray-200">
                            <i class="fas fa-exclamation-triangle text-yellow-500"></i>
                            This Coupon does not exist or has been used.
                          </h2>
                        </div>
                    </div>
                    <div class="min-w-full rounded bg-gray-600 p-6 mb-10" ng-if="rewards.length > 0 && !loading && !empty && requestLoading">
                        <div class="row mb-12">
                            <p class="text-4xl text-gray-200">Customer Details</p>
                            <p class="text-gray-400">Ask for verification of the following:</p>
                        </div>
                        <div class="flex">
                            <div class="flex-1">
                                <span>
                                    <p class="text-2xl text-gray-400">Name:</p>
                                    <p class="text-4xl text-gray-200">{{ booking.userId.name }}</p>
                                </span>
                            </div>
                            <div class="flex-1">
                                <span>
                                    <p class="text-2xl text-gray-400">Email:</p>
                                    <p class="text-4xl text-gray-200">{{ booking.userId.email }}</p>
                                </span>
                            </div>
                            <div class="flex-1">
                                <span>
                                    <p class="text-2xl text-gray-400">Mobile Number:</p>
                                    <p class="text-4xl text-gray-200">{{ booking.userId.mobileNumber }}</p>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div style="max-height: 700px; overflow-y: scroll;" class="shadow border-b border-gray-200 sm:rounded-lg mb-10" ng-if="rewards.length > 0 && !loading && !empty && !requestLoading">
                        <div class="button-all float-right mb-10">
                            <button class="btn btn-default focus:outline-none" data-target="#confirmationAllModal" data-toggle="modal" ng-disabled="cannotCancelAll()" ng-click="cancel()">Cancel All</button>
                            <button class="btn btn-success focus:outline-none" data-target="#confirmationAllModal" data-toggle="modal" ng-disabled="cannotRedeemAll()" ng-click="redeem()">Redeem All</button>
                        </div>
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead>
                                <tr>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">S/N</th>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Name</th>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Description</th>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Expires on</th>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Status</th>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Expired</th>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100 text-xl uppercase text-left leading-4 font-medium text-gray-500 tracking-wider">Action</th>
                                    <th class="sticky top-0 px-10 py-6 bg-gray-100"></th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr ng-repeat="(index, reward) in rewards">
                                    <td class="px-10 py-6 whitespace-no-wrap text-2xl">{{ index + 1 }}</td>
                                    <td class="px-10 py-6 whitespace-no-wrap text-2xl">{{reward.id.name}}</td>
                                    <td class="px-10 py-6 whitespace-no-wrap text-2xl">{{reward.id.description}}</td>
                                    <td class="px-10 py-6 whitespace-no-wrap text-2xl">{{reward.endDate | date: 'longDate'}}</td>
                                    <td class="px-10 py-6 whitespace-no-wrap text-2xl">{{ reward.status }}</td>
                                    <td class="px-10 py-6 whitespace-no-wrap text-2xl">{{ expired(reward.id.endDate) ? 'Yes' : 'No' }}</td>
                                    <td class="px-10 py-6 whitespace-no-wrap text-2xl cursor-pointer">
                                        <button
                                            class="m-2 focus:outline-none" 
                                            data-toggle="modal"
                                            data-target="#confirmationModal"
                                            ng-if="reward.status === 'pending'"
                                            ng-click="setSelectedReward(reward._id)"
                                        >
                                            <i class="fas fa-times" data-title="Cancel Reward" bs-tooltip></i>
                                        </button>
                                        <button
                                            class="m-2 focus:outline-none" 
                                            data-toggle="modal"
                                            data-target="#confirmationModal"
                                            ng-if="reward.status !== 'pending'"
                                            ng-click="setSelectedReward(reward._id)"
                                        >
                                            <i class="fas fa-handshake" data-title="Redeem Reward" bs-tooltip></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr ng-if="rewards.length === 0">
                                    <td colspan="7">
                                        <p class="p-10 text-center">No rewards found.</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Booking Confirmation Modal -->
    <div class="modal fade" id="confirmationModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h3>please confirm your action</h3>
                </div>
                <div class="modal-body text-center">
                    <p>Are you sure you want to {{ selectedReward.status === 'pending' ? 'cancel' : 'redeem' }} {{ selectedReward.name }}'s booking</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success" ng-if="selectedReward.status === 'pending'" ng-click="cancel(selectedReward.id)">Confirm</button>
                    <button class="btn btn-success" ng-if="selectedReward.status !== 'pending'" ng-click="redeem(selectedReward.id)">Confirm</button>
                    <button class="btn btn-danger" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <!-- End of Booking Confirmation Modal -->

    <!-- Booking Confirmation All Modal -->
        <div class="modal fade" id="confirmationAllModal" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header text-center">
                        <h3>please confirm your action</h3>
                    </div>
                    <div class="modal-body text-center">
                        <p>Are you sure you want to {{ cannotCancelAll() ? 'redeem' : 'cancel' }} all bookings</p>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-success" ng-if="cannotcancelAll()" ng-click="redeem()">Confirm</button>
                        <button class="btn btn-success" ng-if="cannotRedeemAll()" ng-click="cancel()">Confirm</button>
                        <button class="btn btn-danger" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    <!-- End of Booking Confirmation All Modal -->

    <!-- Selected Merchant Modal -->
    <div class="modal fade" id="selectedMerch" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h3>Merchant Info</h3>
                </div>
                <div class="modal-body modal-space-text">
                    <label for="companyName">Company Name: </label>
                    <span id="companyName"> {{currentRequest.name}} </span>
                    <br/>
                    <label for="companyEmail">Email: </label>
                    <span id="companyEmail"> {{currentRequest.email}} </span>
                    <br/>
                    <label for="phoneNumber">Mobile Number: </label>
                    <span id="phoneNumber"> {{currentRequest.mobile}} </span>
                    <br/>
                    <label for="companyDetails">Company Address: </label>
                    <span id="companyDetails"> {{currentRequest.address}}, {{currentRequest.city}}, {{currentRequest.state}}</span>
                    <br/>
                    <br/>
                    <label for="registered">Registered on: </label>
                    <span id="registered"> {{currentRequest.createdDate | date: 'medium'}} </span>
                    <br/>
                    <div ng-if="isPending()">
                        <button class="btn btn-success" data-dismiss="modal" data-toggle="modal" data-target="#reviewStatus" ng-click="selectMerch(currentRequest, 'accepted')">Approve</button>
                        <button class="btn btn-danger" data-dismiss="modal" data-toggle="modal" data-target="#reviewStatus" ng-click="selectMerch(currentRequest, 'rejected')">Decline</button>
                        <button class="btn btn-default" data-dismiss="modal">Cancel</button>
                    </div>
                    <div ng-if="isRejected()">
                        <label>Reason: </label>
                        <span> {{currentRequest.extra.reason}} </span>
                        <br/>
                        <button class="btn btn-warning" data-dismiss="modal" data-toggle="modal" data-target="#reviewStatus" ng-click="selectMerch(currentRequest, 'pending')">Revert To Pending</button>
                        <button class="btn btn-default" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Selected Merchant Modal -->

    <!-- Selected Rewards Modal -->
    <div class="modal fade" id="selectedReward" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h3>Reward Info</h3>
                </div>
                <div class="modal-body modal-space-text">
                    <div class="row">
                        <div class="col-sm-12">
                            <label for="rewardName">Reward Status: </label>
                            <span id="rewardName"><b> {{currentReward.status}} </b></span>
                            <br/>
                        </div>
                        <div class="col-sm-12">
                            <label for="merchantName">Merchant Name: </label>
                            <span id="merchantName" class="capitalize"> {{currentReward.merchantID.merchantInfo.companyName}} </span>
                            <br/>
                        </div>
                        <div class="col-sm-12">
                            <label for="rewardName">Reward Name: </label>
                            <span id="rewardName"> {{currentReward.name}} </span>
                            <br/>
                        </div>
                        <div class="col-sm-12">
                            <label for="description">Description: </label>
                            <span id="description"> {{currentReward.description}} </span>
                            <br/>
                        </div>
                        <div class="col-sm-12">
                            <label>Categories: </label>
                            <span ng-repeat="(index, category) in currentReward.categories">
                                {{ index === currentReward.categories.length - 1 ? category : (category + ", ")}}</span>
                        </div>
                        <div class="col-sm-6">
                            <label>Start Date</label>
                            <br>
                            <span>{{currentReward.startDate | date:"longDate"}}</span>
                        </div>
                        <div class="col-sm-6">
                            <label>End Date</label>
                            <br>
                            <span>{{currentReward.endDate | date:"longDate"}}</span>
                        </div>
                        <div class="col-md-6 col-sm-12">
                            <label>Multiple: </label>
                            <br>
                            <span>{{currentReward.multiple.status ? 'Yes' : 'No'}}</span>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <label>Old Price</label>
                            <br>
                            <span>&#x20a6;{{currentReward.price.old}}</span>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <label>Current Price</label>
                            <br>
                            <span>&#x20a6;{{currentReward.price.new}}</span>
                        </div>
                        <div class="col-sm-12">
                            <label>Applicable Days: </label>
                            <span ng-repeat="(index, day) in currentReward.applicableDays">
                                {{ index === currentReward.applicableDays.length - 1 ? getDay(day) : (getDay(day) + ", ")}}</span>
                        </div>
                        <div class="col-md-6 col-sm-12">
                            <label>Deliver: </label>
                            <br>
                            <span>{{currentReward.delivery ? 'Yes' : 'No'}}</span>
                        </div>
                        <div class="col-md-6 col-sm-12">
                            <label>Created On: </label>
                            <br>
                            <span>{{currentReward.createdDate}}</span>
                        </div>
                        <div class="col-md-12 col-sm-12">
                            <span class="preview-box" ng-repeat="(index, photo) in currentReward.pictures">
                                <img ng-src="{{photo.url}}" height="200" width="200"/>
                            </span>
                        </div>
                    </div>
                    <button class="btn btn-success" data-dismiss="modal" data-toggle="modal" data-target="#reviewRewardStatus" ng-click="selectReward(currentReward, 'accepted')">Approve</button>
                    <button class="btn btn-danger" data-dismiss="modal" data-toggle="modal" data-target="#reviewRewardStatus" ng-click="selectReward(currentReward, 'rejected')">Decline</button>
                    <button class="btn btn-default" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <!-- End Selected Rewards Modal -->

    <!-- Review Modal -->
    <div class="modal fade" id="reviewStatus" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h3>Merchant Response</h3>
                </div>
                <div class="modal-body" ng-init="action = true">
                    <h4>Are you sure you want to {{ status.display + ' ' + currentRequest.name}}?</h4>
                    <form name="confirm">
                        <div class="form-group" ng-if="status.value === 'accepted'">
                            <label for="rating">Rating:</label>
                            <input id="rating" name="rating" ng-class="{'form-control': true, 'error-input': isError(confirm.rating, 'rating')}" type="number" ng-min="1" ng-max="5" placeholder="Rate here..." ng-model="status.rating" required></textarea>
                            <small id="descrHelp" class="form-text text-muted">Anything between 1 - 5</small>
                        </div>
                        <div class="row" ng-if="status.value === 'accepted'">
                            <h3>Geolocation Details</h3>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="latitude">Latitude: </label>
                                    <div class="input-group mb-2 mr-sm-2 mb-sm-0">
                                        <div class="input-group-addon icons-input"><i class="fas fa-map-pin"></i></div>
                                        <input type="text" class="form-control" id="latitude" placeholder="e.g. 6.473655" ng-model="location.lat" required/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="longitude">Longitude: </label>
                                    <div class="input-group mb-2 mr-sm-2 mb-sm-0">
                                        <div class="input-group-addon icons-input"><i class="fas fa-map-pin"></i></div>
                                        <input type="text" class="form-control" id="longitude" placeholder="e.g. 3.474655" ng-model="location.long" required/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-if="status.value === 'rejected'">
                            <label for="reason">Why was this review rejected: </label>
                            <textarea class="form-control" id="reason" maxlength="80" placeholder="Rejection reason" ng-model="status.reason" required></textarea>
                            <small id="descrHelp" class="form-text text-muted">Describe reason in 80 words or less</small>
                        </div>
                        <div ng-if="status.value === 'pending'">

                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success" type="submit" ng-disabled="!canConfirm()" data-dismiss="modal" ng-click="proceed()">Confirm</button>
                    <button class="btn btn-danger" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <!-- End Review Modal -->
    
    <!-- Reward Review Modal -->
    <div class="modal fade" id="reviewRewardStatus" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h3>Reward Response</h3>
                </div>
                <div class="modal-body" ng-init="action = true">
                    <h4>Are you sure you want {{ currentReward.name + ' to be ' + status.value}}?</h4>
                    <form name="confirm" ng-if="status.value !== 'accepted'">
                        <div class="form-group">
                            <label for="reason">What does the Merchant need to change: </label>
                            <textarea class="form-control" id="reason" maxlength="80" placeholder="Please leave a comment.." ng-model="status.reason" required></textarea>
                            <small id="descrHelp" class="form-text text-muted">Please type in all comments based on review.</small>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success" type="submit" ng-disabled="!canApprove()" data-dismiss="modal" ng-click="sendReview()">Confirm</button>
                    <button class="btn btn-danger" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Send Notification Modal -->
    <div class="modal fade" id="notificationModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h3>Confirm Notification</h3>
                </div>
                <div class="modal-body" ng-init="action = true">
                    <h4 class="mb-4">Are you sure you want to send this notification?</h4>
                    <p><b>Title:</b> {{ notification.title }}</p>
                    <p><b>Message:</b> {{ notification.message }}</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success" type="submit" ng-disabled="!canApprove()" data-dismiss="modal" ng-click="sendGeneralNotification()">Yes, Send</button>
                    <button class="btn btn-danger" data-dismiss="modal">No</button>
                </div>
            </div>
        </div>
    </div>
    <!-- End Reward Review Modal -->
</div>
